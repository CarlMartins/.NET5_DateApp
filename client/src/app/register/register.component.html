<form (ngSubmit)="register()" [formGroup]='registerForm' autocomplete="off">
  <h2 class="text-center text-primary">Sign up</h2>
  <hr>
  <div class="form-group">
    <input
      [class.is-invalid]='registerForm.get("username").errors
        && registerForm.get("username").touched'
      class="form-control"
      formControlName='username'
      placeholder="Username"
      type="text"
    >
    <div class='invalid-feedback'>Please enter a username</div>
  </div>

  <div class="form-group">
    <input
      [class.is-invalid]='registerForm.get("password").errors
        && registerForm.get("password").touched'
      class="form-control"
      formControlName='password'
      placeholder="Password"
      type="password"
    >
    <div *ngIf="registerForm.get('password').hasError('required')" class='invalid-feedback'>
      Please enter a password
    </div>
    <div *ngIf="registerForm.get('password').hasError('minlength')" class='invalid-feedback'>
      The password must be at least 4 characters.
    </div>
    <div *ngIf="registerForm.get('password').hasError('maxlength')" class='invalid-feedback'>
      The password must be at most 8 characters.
    </div>
  </div>

  <div
    class="form-group"
  >
    <input
      [class.is-invalid]='registerForm.get("confirmPassword").errors
        && registerForm.get("confirmPassword").touched'
      class="form-control"
      formControlName='confirmPassword'
      placeholder="Confirm Password"
      type="password"
    >
    <div *ngIf="registerForm.get('confirmPassword').hasError('minlength')" class='invalid-feedback'>
      Please enter the confirm password
    </div>
    <div *ngIf="registerForm.get('confirmPassword').hasError('isMatching')" class='invalid-feedback'>
      Confirm password must match the password.
    </div>
  </div>

  <div class="form-group text-center">
    <button class="btn btn-success mr-2" type="submit">Register</button>
    <button (click)="cancel()" class="btn btn-default mr-2">Cancel</button>
  </div>
</form>

<p>Form value: {{registerForm.value | json}}</p>
<p>Form status: {{registerForm.status | json}}</p>
